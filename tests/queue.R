library(largerscale)

q <- queue()
x <- 1
push(q, x)
push(q, 2)
push(q, 3)
rm(x)
gc()
pop(q)
pop(q)
pop(q)
pop(q)
pop(q)
pop(q)
gc()
push(q, 3)
push(q, 2)
push(q, 1)
gc()
pop(q)
pop(q)
pop(q)
pop(q)

q2 <- queue()
pop(q2)
